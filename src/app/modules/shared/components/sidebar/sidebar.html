<aside class="w-64 bg-gray-800 text-white shadow-xl z-30 transition-transform duration-300 ease-in-out overflow-y-auto
              lg:block lg:fixed lg:top-16 lg:left-0 lg:h-[calc(100vh-4rem)]"

       [class.hidden]="isMobile && !isSidebarOpen"
       [class.fixed]="isMobile"
       [class.top-16]="isMobile"
       [class.left-0]="isMobile"
       [class.h-[calc(100vh-4rem)]]="isMobile"
       [class.-translate-x-full]="isMobile && !isSidebarOpen"
       [class.translate-x-0]="isMobile && isSidebarOpen">

  <nav class="flex flex-col space-y-2 p-4"> <div *ngFor="let group of menuGroups" class="mb-2">

    <button (click)="toggleGroup(group)"
            class="flex items-center justify-between w-full text-xs font-semibold uppercase text-gray-400 mb-2 mt-4 px-3 py-2 rounded-lg hover:bg-gray-700 transition duration-150">

      <span class="truncate">{{ group.group }}</span>

      <svg class="w-3 h-3 transition-transform duration-200"
           [class.rotate-90]="!group.isCollapsed"
           fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </button>

    <div *ngIf="!group.isCollapsed">
      <ul class="space-y-1">
        <li *ngFor="let item of group.items">
          <a [routerLink]="item.route" routerLinkActive="bg-indigo-700 text-white"
             class="flex items-center space-x-3 p-3 text-sm font-medium rounded-lg text-gray-300 hover:bg-gray-700 transition duration-150"
             [routerLinkActiveOptions]="{exact: true}"
          >
            <span class="text-lg w-5 h-5 flex items-center justify-center">{{ item.icon }}</span>
            <span>{{ item.label }}</span>
            <span *ngIf="item.badge" class="ml-auto text-xs font-semibold px-2 py-0.5 rounded-full bg-cyan-600 text-white">
                    {{ item.badge }}
                </span>
          </a>
        </li>
      </ul>
    </div>

    <hr *ngIf="group.separator" class="border-gray-700 mt-4 mb-2">

  </div>

  </nav>
</aside>
