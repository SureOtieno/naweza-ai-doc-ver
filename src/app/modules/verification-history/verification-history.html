<section class="p-8 bg-gray-900 min-h-screen text-white">
  <div class="container mx-auto max-w-7xl">

    <div class="flex justify-between items-center pb-4 mb-6 border-b border-gray-700">
      <h1 class="text-4xl font-bold text-indigo-400">Verification History ðŸ“œ</h1>
      <button class="px-4 py-2 bg-gray-700 text-white font-semibold rounded-md shadow-md hover:bg-gray-600 transition duration-150 flex items-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.34 9H4M16 16v5h.582m-15.356-2A8.001 8.001 0 0119.66 15H20"></path></svg>
        <span>Refresh</span>
      </button>
    </div>

    <p class="text-gray-400 mb-8">View the status and results of all submitted verification flows.</p>

    <div class="bg-gray-800 rounded-lg shadow-xl overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-700">
        <thead class="bg-gray-700/50">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Transaction ID</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Verification Flow</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Submitter</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Documents</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Status</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Submission Date</th>
          <th class="relative px-6 py-3"><span class="sr-only">Details</span></th>
        </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
        <tr *ngFor="let record of historyRecords" class="hover:bg-gray-700 transition">

          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-400">{{ record.id }}</td>

          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">{{ record.flowName }}</td>

          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">{{ record.submitter }}</td>

          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">{{ record.documentCount }}</td>

          <td class="px-6 py-4 whitespace-nowrap">
                <span [ngClass]="{
                  'bg-green-600/20 text-green-400': record.status === 'SUCCESS',
                  'bg-red-600/20 text-red-400': record.status === 'FAILED',
                  'bg-yellow-600/20 text-yellow-400': record.status === 'PENDING' || record.status === 'REVIEW'
                }" class="px-3 py-1 text-xs font-semibold rounded-full uppercase">
                  {{ record.status }}
                </span>
          </td>

          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">
            {{ record.submissionDate | date: 'medium' }}
          </td>

          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <button (click)="viewDetails(record.id)"
                    class="text-cyan-400 hover:text-cyan-300 p-2 rounded-md hover:bg-gray-700 transition">
              View Details
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="historyRecords.length === 0" class="p-10 text-center text-gray-500 bg-gray-800 rounded-lg shadow-xl mt-8">
      No verification submissions found.
    </div>

  </div>
</section>
